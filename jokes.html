<!-- Ács Zoltán Péter, Vida Tamás, Bódis Bálint -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>igen</title>
    <div id="main">
        <p id="jokeContainer">

        </p>
        <button id="jokeGenerator" onclick="Humor()">

        </button>
    </div>
</head>
<body>
    <style>
        #jokeGenerator{
            background-image: url("jokeButton.jpg");
            background-size: cover; /* This will scale the image to cover the button area */
            background-position: center; /* This will center the image */
            width: 350px;
            height: 225px;
        }
        #jokeGenerator:hover{
            border: 3px solid rgba(168, 153, 153, 0.801);
            background-image: url("jokeButton.jpg");
            background-size: cover; /* This will scale the image to cover the button area */
            background-position: center; /* This will center the image */
            width: 360px;
            height: 235px;
        }
        #jokeContainer{
            border: 3px solid turquoise;
            height: 20%;
            width: 50%;
        }
        #main{
            width: 65%;
            margin-left: auto;
            margin-right: auto;
            height: 10%;
        }
    </style>
    <script>
        async function Humor() {
            const jokeP = document.getElementById("jokeContainer");
            try {
                const response = await fetch('https://official-joke-api.appspot.com/jokes/random');
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                const data = await response.json(); // await the JSON parsing as well
                jokeP.innerHTML = `${data.setup} - ${data.punchline}`;
            } catch (error) {
                jokeP.innerHTML = 'Hiba történt a vicc betöltésekor: ' + error.message; // Display error message properly
            }
        }
    </script>
</body>
</html>